<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-Time Forum</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <nav id="main-nav">
        <div class="nav-left">
            <h1>Real-Time Forum</h1>
        </div>
        <div class="nav-center">
            <button id="homeBtn" class="auth-hidden">Home</button>
            <button id="chatBtn" class="auth-hidden">Chat</button>
        </div>
        <div class="nav-right">
            <button id="loginBtn" class="auth-visible">Login</button>
            <button id="registerBtn" class="auth-visible">Register</button>
            <span id="userInfo" class="auth-hidden">
                <button id="profileBtn">Profile</button>
            </span>
        </div>
    </nav>

    <main id="app">
        <!-- Login Section -->
        <section id="login-section" class="section">
            <h2>Login</h2>
            <form id="login-form">
                <input type="text" name="login" placeholder="Username or Email" required>
                <input type="password" name="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
        </section>

        <!-- Register Section -->
        <section id="register-section" class="section">
            <h2>Register</h2>
            <form id="register-form">
                <input type="text" name="username" placeholder="Username" required>
                <input type="email" name="email" placeholder="Email" required>
                <input type="password" name="password" placeholder="Password" required>
                <input type="text" name="first_name" placeholder="First Name" required>
                <input type="text" name="last_name" placeholder="Last Name" required>
                <input type="number" name="age" placeholder="Age" required>
                <select name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
                <button type="submit">Register</button>
            </form>
        </section>

        <!-- Feed Section -->
        <section id="feed-section" class="section">
            <div class="feed-layout">
                <!-- Left Sidebar -->
                <div class="feed-sidebar">
                    <div class="profile-card">
                        <div class="profile-banner"></div>
                        <div class="profile-photo">
                            <img src="https://via.placeholder.com/80" alt="Profile photo" id="profile-image">
                        </div>
                        <div class="profile-info">
                            <h3 id="profile-name">Loading...</h3>
                            <p id="profile-title" class="text-muted">Forum Member</p>
                        </div>
                        <div class="profile-stats">
                            <div class="stat">
                                <span class="stat-number" id="post-count">0</span>
                                <span class="stat-label">Posts</span>
                            </div>
                        </div>
                        <div class="profile-filters">
                            <button onclick="views.loadPosts('', 'my-posts')" class="filter-btn">My Posts</button>
                            <button onclick="views.loadPosts('', 'liked-posts')" class="filter-btn">Liked Posts</button>
                            <button onclick="views.loadPosts()" class="filter-btn">All Posts</button>
                        </div>
                        <div class="profile-actions">
                            <button id="logoutBtn" class="logout-btn"></button>
                        </div>
                    </div>
                </div>

                <!-- Main Feed -->
                <div class="feed-main">
                    <div class="create-post-card">
                        <div class="post-form-header">
                            <img src="https://via.placeholder.com/40" alt="Your profile" class="mini-profile-pic">
                            <button id="newPostBtn" class="create-post-button">What's on your mind?</button>
                        </div>
                        <form id="quick-post-form" class="quick-post-form hidden">
                            <input type="text" name="title" placeholder="Post title" required class="post-title-input">
                            <textarea name="content" placeholder="What's on your mind?" required></textarea>
                            <div class="quick-post-footer">
                                <select name="category" required>
                                    <option value="">Select Category</option>
                                </select>
                                <button type="submit" class="post-submit-btn">Post</button>
                            </div>
                        </form>
                    </div>
                    <div class="feed-filters">
                        <select id="categoryFilter">
                            <option value="">All Categories</option>
                        </select>
                    </div>
                    <div id="posts-container"></div>
                </div>

                <!-- Right Sidebar -->
                <div class="feed-sidebar">
                    <div class="news-card">
                        <div class="card-header">
                            <h3>Active Categories</h3>
                        </div>
                        <div id="active-categories" class="category-list">
                            <!-- Will be populated by JavaScript -->
                        </div>
                        <div class="card-header mt-4">
                            <h3>Top Contributors</h3>
                        </div>
                        <div id="top-contributors" class="contributors-list">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Post View Section -->
        <section id="post-section" class="section">
            <div id="post-detail"></div>
        </section>

        <!-- Chat Section -->
        <section id="chat-section" class="section">
            <div class="chat-container">
                <div class="chat-users">
                    <h3>Online Users</h3>
                    <ul id="online-users"></ul>
                </div>
                <div class="chat-messages">
                    <div id="messages-container"></div>
                    <form id="chat-form">
                        <input type="text" name="message" placeholder="Type a message..." required>
                        <button type="submit">Send</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- New Post Modal -->
        <div id="new-post-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Create New Post</h2>
                <form id="new-post-form">
                    <input type="text" name="title" placeholder="Post Title" required>
                    <textarea name="content" placeholder="Post Content" required></textarea>
                    <select name="category" required>
                        <option value="">Select Category</option>
                    </select>
                    <button type="submit">Create Post</button>
                </form>
            </div>
        </div>
    </main>

    <script src="js/api.js"></script>
    <script src="js/views.js"></script>
    <script src="js/router.js"></script>
    <script src="js/app.js"></script>
</body>
</html>